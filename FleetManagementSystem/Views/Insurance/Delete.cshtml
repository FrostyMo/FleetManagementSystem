@model FleetManagementSystem.Models.Insurance

<div class="card shadow-sm">
    <div class="card-header bg-danger text-white">
        <h4 class="mb-0">Delete Insurance</h4>
    </div>
    <div class="card-body">
        <h5>Are you sure you want to delete this insurance policy?</h5>
        <p>This action cannot be undone.</p>

        <dl class="row">
            <dt class="col-sm-3">Policy Number</dt>
            <dd class="col-sm-9">@Model.PolicyNumber</dd>

            <dt class="col-sm-3">Company</dt>
            <dd class="col-sm-9">@Model.Company</dd>

            <dt class="col-sm-3">Insurance Type</dt>
            <dd class="col-sm-9">@Model.Type</dd>

            <dt class="col-sm-3">Coverage Amount</dt>
            <dd class="col-sm-9">£@Model.CoverageAmount</dd>

            <dt class="col-sm-3">Premium</dt>
            <dd class="col-sm-9">£@Model.Premium</dd>

            <dt class="col-sm-3">Validity Period</dt>
            <dd class="col-sm-9">@Model.StartDate.ToString("dd/MM/yyyy") - @Model.EndDate.ToString("dd/MM/yyyy")</dd>

            <dt class="col-sm-3">Remarks</dt>
            <dd class="col-sm-9">@Model.Remarks</dd>

            <dt class="col-sm-3">Associated Drivers</dt>
            <dd class="col-sm-9">
                @if (Model.Drivers != null && Model.Drivers.Any())
                {
                    <ul>
                        @foreach (var driver in Model.Drivers)
                        {
                            <li>@driver.FirstName @driver.LastName</li>
                        }
                    </ul>
                }
                else
                {
                    <p>No drivers assigned.</p>
                }
            </dd>

            <dt class="col-sm-3">Associated Vehicles</dt>
            <dd class="col-sm-9">
                @if (Model.Vehicles != null && Model.Vehicles.Any())
                {
                    <ul>
                        @foreach (var vehicle in Model.Vehicles)
                        {
                            <li>@vehicle.LicensePlate - @vehicle.Model</li>
                        }
                    </ul>
                }
                else
                {
                    <p>No vehicles assigned.</p>
                }
            </dd>
        </dl>

        <form asp-action="DeleteConfirmed" method="post">
            <input type="hidden" asp-for="Id" />

            <div class="d-flex justify-content-between">
                <button type="submit" class="btn btn-danger">Delete</button>
                <a asp-action="Index" class="btn btn-secondary">Cancel</a>
            </div>
        </form>
    </div>
</div>